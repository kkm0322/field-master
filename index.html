<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3522/3522302.png"> 
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>(ì£¼)ì˜ì„ ê¸°ê³„ Field Master</title>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
  <script src="https://unpkg.com/@panzoom/panzoom@4.5.1/dist/panzoom.min.js"></script>

  <style>
    /* [í…Œë§ˆ: ë‹¤í¬ & ì˜ì„  ì˜ë¡œìš°] */
    :root {
      --bg: #121212; --card: #1e1e1e; --primary: #FFCC00; 
      --text: #fff; --sub: #aaa; --border: #333; --danger: #ff4444; --safe: #4CAF50;
    }
    * { box-sizing: border-box; font-family: 'Pretendard', sans-serif; -webkit-tap-highlight-color: transparent; }
    body { background: var(--bg); color: var(--text); margin: 0; padding-bottom: 85px; font-size: 16px; overscroll-behavior: none; }

    .header { position: sticky; top: 0; z-index: 100; background: rgba(18,18,18,0.95); border-bottom: 2px solid var(--primary); padding: 15px; display: flex; justify-content: space-between; align-items: center; }
    .header h1 { margin: 0; font-size: 1.2rem; color: var(--primary); font-weight: 800; }
    
    .container { padding: 15px; max-width: 600px; margin: 0 auto; }
    .card { background: var(--card); border-radius: 10px; padding: 20px; margin-bottom: 15px; border: 1px solid var(--border); }
    .card-title { color: var(--primary); font-size: 1.1rem; margin: 0 0 15px 0; font-weight: bold; border-left: 4px solid var(--primary); padding-left: 10px; }
    .input-box { width: 100%; padding: 12px; background: #252525; border: 1px solid #444; color: #fff; border-radius: 6px; font-size: 1rem; margin-bottom: 10px; }
    .hidden { display: none; }
    .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }

    /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
    .steel-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.85rem; }
    .steel-table th { background: #2a2a2a; color: var(--primary); padding: 10px 5px; text-align: center; border-bottom: 1px solid #444; font-weight: 600; white-space: nowrap; position: sticky; top: 0; }
    .steel-table td { padding: 8px 5px; border-bottom: 1px solid #333; text-align: center; color: #ddd; word-break: keep-all; }
    .steel-table tr:nth-child(even) { background-color: rgba(255,255,255,0.03); }
    .highlight { color: var(--primary); font-weight: bold; }
    
    /* ìŠ¤í¬ë¡¤ ë©”ë‰´ */
    .scroll-menu { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 10px; white-space: nowrap; scrollbar-width: none; }
    .scroll-menu::-webkit-scrollbar { display: none; }
    .btn-steel { background: #333; color: #ccc; border: 1px solid #555; padding: 10px 15px; border-radius: 20px; font-size: 0.9rem; cursor: pointer; flex-shrink: 0; transition: 0.2s; }
    .btn-steel.active { background: var(--primary); color: #000; border-color: var(--primary); font-weight: bold; }

    /* ìŠ¤í™ í‘œì‹œìš© */
    .spec-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #333; }
    .spec-label { color: var(--sub); }
    .spec-val { font-weight: bold; color: #fff; text-align: right; }
    .shape-guide { font-size: 0.8rem; color: #aaa; background: #252525; padding: 10px; border-radius: 5px; margin-bottom: 10px; line-height: 1.4; border: 1px dashed #444; }

    /* íƒ­ë°” */
    .nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #1a1a1a; border-top: 1px solid #333; display: flex; justify-content: space-between; padding: 10px 0 20px 0; z-index: 200; }
    .nav-btn { background: none; border: none; color: #666; font-size: 0.7rem; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 4px; flex: 1; }
    .nav-btn.active { color: var(--primary); font-weight: bold; }
    .nav-icon { font-size: 1.4rem; margin-bottom: 2px; }

    /* ì´ë¯¸ì§€ ëª¨ë‹¬ & Panzoom ìŠ¤íƒ€ì¼ */
    .modal-overlay { 
      position: fixed; top:0; left:0; width:100vw; height:100vh; 
      background:rgba(0,0,0,0.95); z-index: 2000; 
      display: flex; flex-direction: column; 
      opacity: 0; pointer-events: none; transition: 0.3s; 
    }
    .modal-overlay.open { opacity: 1; pointer-events: all; }
    
    .modal-header {
      width: 100%; padding: 15px; display: flex; justify-content: flex-end; z-index: 2001;
      background: rgba(0,0,0,0.5);
    }
    .close-modal { 
      background: rgba(255,255,255,0.2); color: #fff; border: 1px solid #fff;
      padding: 8px 15px; border-radius: 20px; font-size: 1rem; cursor: pointer; 
    }

    .panzoom-container {
      flex: 1; width: 100%; overflow: hidden; display: flex; justify-content: center; align-items: center;
      padding: 10px; position: relative;
    }
    /* ì´ë¯¸ì§€ê°€ í™”ë©´ì— ë”± ë§ê²Œ(contain) ëœ¨ë„ë¡ ì„¤ì • */
    .panzoom-element { 
      max-width: 100%; max-height: 100%; 
      object-fit: contain; 
      opacity: 0; transition: opacity 0.3s; /* ë¡œë”© ì „ì—” ìˆ¨ê¹€ */
    }
    .panzoom-element.loaded { opacity: 1; } /* ë¡œë”© ì™„ë£Œ í›„ í‘œì‹œ */

    /* ë¡œë”© ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜ */
    .loader {
      border: 5px solid #333; border-top: 5px solid var(--primary); border-radius: 50%;
      width: 50px; height: 50px; animation: spin 1s linear infinite;
      position: absolute; top: 45%; left: 45%; margin-top: -25px; margin-left: -25px;
      z-index: 2002; display: none;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    .btn-draw { width: 100%; background: #444; color: var(--primary); border: 1px solid var(--primary); padding: 12px; border-radius: 6px; font-weight: bold; margin-top: 10px; cursor: pointer; }
    .btn-draw:active { background: var(--primary); color: #000; }
  </style>
</head>
<body>

  <header class="header">
    <h1>(ì£¼)ì˜ì„ ê¸°ê³„ <span>MASTER</span></h1>
    <div onclick="window.location.reload()" style="cursor:pointer;">ğŸ”„</div>
  </header>

  <div class="container">

    <div id="tab1" class="tab-content">
      <div class="card">
        <h3 class="card-title">ğŸ—ï¸ í˜¸ì´ìŠ¤íŠ¸ ì œì› (Spec)</h3>
        
        <label style="color:#aaa; font-size:0.8rem; margin-bottom:5px; display:block;">í˜¸ì´ìŠ¤íŠ¸ ì¢…ë¥˜</label>
        <select id="hType" class="input-box" onchange="updateCapOptions()">
          <option value="mono_std">1. ëª¨ë…¸ë ˆì¼ (ì¼ë°˜)</option>
          <option value="mono_crp">2. ëª¨ë…¸ë ˆì¼ (í¬ë¦½/Creep)</option>
          <option value="double_std">3. ë”ë¸”ê±°ë” (ì¼ë°˜)</option>
          <option value="double_crp">4. ë”ë¸”ê±°ë” (í¬ë¦½/Creep)</option>
          <option value="main_std">5. ì£¼ê¶Œë³´ê¶Œ (ì¼ë°˜)</option>
          <option value="main_crp">6. ì£¼ê¶Œë³´ê¶Œ (í¬ë¦½/Creep)</option>
        </select>

        <label style="color:#aaa; font-size:0.8rem; margin-bottom:5px; display:block;">ìš©ëŸ‰ (TON)</label>
        <select id="hCap" class="input-box" onchange="renderHoistSpec()">
          </select>

        <div id="hoistSpecView" style="background: #252525; padding: 15px; border-radius: 8px; margin-top:5px;">
          <div style="text-align:center; color:#666;">ë°ì´í„° ë¡œë”©ì¤‘...</div>
        </div>

        <button class="btn-draw" onclick="openDrawing()">ğŸ“ ë„ë©´ ë³´ê¸° (í™•ëŒ€/ì¶•ì†Œ)</button>
      </div>
    </div>

    <div id="tab2" class="tab-content hidden">
      <div class="card">
        <h3 class="card-title">â›“ï¸ ì™€ì´ì–´ë¡œí”„ ì–‘ì • ê³„ì‚°</h3>
        <div class="grid-3">
          <div>
            <label style="color:#aaa; font-size:0.7rem;">ìš©ëŸ‰</label>
            <select id="wireTon" class="input-box" style="padding:8px; font-size:0.9rem;" onchange="findWire()">
              <option value="0.5">0.5T</option><option value="1">1T</option><option value="2">2T</option>
              <option value="3">3T(2.8)</option><option value="5">5T</option><option value="7.5">7.5T</option>
              <option value="10">10T</option><option value="15">15T</option><option value="20">20T</option><option value="30">30T</option>
            </select>
          </div>
          <div>
            <label style="color:#aaa; font-size:0.7rem;">íƒ€ì…</label>
            <select id="wireType" class="input-box" style="padding:8px; font-size:0.9rem;" onchange="findWire()">
              <option value="N">N (í‘œì¤€)</option><option value="L">L (ë¡œí—¤ë“œ)</option><option value="D">D (ë”ë¸”)</option>
            </select>
          </div>
          <div>
            <label style="color:#aaa; font-size:0.7rem;">ì–‘ì •</label>
            <select id="wireLift" class="input-box" style="padding:8px; font-size:0.9rem;" onchange="findWire()">
              <option value="6">6 M</option><option value="12">12 M</option><option value="18">18 M</option>
              <option value="24">24 M</option><option value="30">30 M</option>
            </select>
          </div>
        </div>
        
        <div style="background:#333; padding:15px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; margin-top:5px;">
          <div id="wireResult" style="color:var(--primary); font-size:1.1rem; font-weight:bold; word-break:break-all;">-</div>
          <button onclick="copyWireResult()" style="background:#555; border:none; color:#fff; padding:5px 10px; border-radius:4px; font-size:0.8rem; cursor:pointer; flex-shrink:0; margin-left:10px;">ë³µì‚¬</button>
        </div>
      </div>

      <div class="card">
        <h3 class="card-title">ğŸ”© ë³¼íŠ¸ & ìŠ¤íŒ¨ë„ˆ (Mê·œê²©)</h3>
        <table class="steel-table">
          <thead><tr><th>í˜¸ì¹­</th><th>í”¼ì¹˜</th><th>ìŠ¤íŒ¨ë„ˆ(mm)</th></tr></thead>
          <tbody>
            <tr><td>M3</td><td>0.5</td><td>5.5</td></tr>
            <tr><td>M4</td><td>0.7</td><td>7</td></tr>
            <tr><td>M5</td><td>0.8</td><td>8</td></tr>
            <tr><td>M6</td><td>1.0</td><td>10</td></tr>
            <tr><td>M8</td><td>1.25</td><td>13</td></tr>
            <tr><td>M10</td><td>1.5</td><td class="highlight">17</td></tr>
            <tr><td>M12</td><td>1.75</td><td class="highlight">19</td></tr>
            <tr><td>M14</td><td>2.0</td><td>22</td></tr>
            <tr><td>M16</td><td>2.0</td><td class="highlight">24</td></tr>
            <tr><td>M20</td><td>2.5</td><td class="highlight">30</td></tr>
            <tr><td>M22</td><td>2.5</td><td>32</td></tr>
            <tr><td>M24</td><td>3.0</td><td class="highlight">36</td></tr>
            <tr><td>M27</td><td>3.0</td><td>41</td></tr>
            <tr><td>M30</td><td>3.5</td><td class="highlight">46</td></tr>
            <tr><td>M36</td><td>4.0</td><td>55</td></tr>
            <tr><td>M42</td><td>4.5</td><td>65</td></tr>
          </tbody>
        </table>
      </div>

      <div class="card">
        <h3 class="card-title" style="border-left-color: var(--safe); color: var(--safe);">ğŸ—ï¸ ìŠ¬ë§ë²¨íŠ¸ ì œí•œí•˜ì¤‘</h3>
        <table class="steel-table">
          <thead><tr><th>í­(mm)</th><th>ìƒ‰ìƒ</th><th>1ì¤„(T)</th><th>2ì¤„(T)</th></tr></thead>
          <tbody>
            <tr><td>25 mm</td><td style="color:#D8BFD8">ë³´ë¼</td><td>1.0</td><td>2.0</td></tr>
            <tr><td>50 mm</td><td style="color:#90EE90">ë…¹ìƒ‰</td><td>2.0</td><td>4.0</td></tr>
            <tr><td>75 mm</td><td style="color:#FFFFE0">ë…¸ë‘</td><td>3.0</td><td>6.0</td></tr>
            <tr><td>100 mm</td><td style="color:#ddd">íšŒìƒ‰</td><td>4.0</td><td>8.0</td></tr>
            <tr><td>125 mm</td><td style="color:#ff6666">ë¹¨ê°•</td><td>5.0</td><td>10.0</td></tr>
          </tbody>
        </table>
      </div>

      <div class="card">
        <h3 class="card-title" style="border-left-color: var(--safe); color: var(--safe);">âš“ ìƒ¤í´ ê·œê²© (SCí˜•)</h3>
        <table class="steel-table">
          <thead><tr><th>ì¸ì¹˜(inch)</th><th>í•€(mm)</th><th>ì‚¬ìš©í•˜ì¤‘(WLL)</th></tr></thead>
          <tbody>
            <tr><td>1/2"</td><td>14~16</td><td>2.0 Ton</td></tr>
            <tr><td>5/8"</td><td>18~19</td><td>3.25 Ton</td></tr>
            <tr><td>3/4"</td><td>21~22</td><td>4.75 Ton</td></tr>
            <tr><td>7/8"</td><td>24~25</td><td>6.5 Ton</td></tr>
            <tr><td>1"</td><td>28~30</td><td>8.5 Ton</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <div id="tab3" class="tab-content hidden">
      <div class="card">
        <h3 class="card-title">ğŸ“ ì² ê°• ê·œê²© (Steel)</h3>
        <div class="scroll-menu">
          <button class="btn-steel" onclick="loadData('H-Beam', this)">Hí˜•ê°•</button>
          <button class="btn-steel" onclick="loadData('I-Beam', this)">Ií˜•ê°•</button>
          <button class="btn-steel" onclick="loadData('Channel', this)">ã„·í˜•ê°•</button>
          <button class="btn-steel" onclick="loadData('Angle', this)">ë“±ë³€ì•µê¸€</button>
          <button class="btn-steel" onclick="loadData('Pipe', this)">íŒŒì´í”„</button>
          <button class="btn-steel" onclick="loadData('Rail', this)">ë ˆì¼</button>
          <button class="btn-steel" onclick="loadData('Flat', this)">í‰ì² </button>
          <button class="btn-steel" onclick="loadData('Conduit', this)">ì „ì„ ê´€</button>
          <button class="btn-steel" onclick="loadData('HR', this)">ì••ì—°ê°•íŒ</button>
          <button class="btn-steel" onclick="loadData('Check', this)">ë¬´ëŠ¬ê°•íŒ</button>
          <button class="btn-steel" onclick="loadData('STS', this)">ìŠ¤í…ê°•íŒ</button>
        </div>
        
        <div id="dataContainer" style="margin-top:15px; min-height:150px;">
          <div style="text-align:center; color:#666; padding:30px;">
            ìƒë‹¨ ë²„íŠ¼ì„ ëˆŒëŸ¬ ìì¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.
          </div>
        </div>
      </div>
    </div>

    <div id="tab4" class="tab-content hidden">
      <div class="card">
        <h3 class="card-title">âš™ï¸ í˜¸ì´ìŠ¤íŠ¸ íœ  (Wheel)</h3>
        <table class="steel-table">
          <thead><tr><th>í˜¸ì¹­ê²½(Ã˜)</th><th>íŠ¸ë ˆë“œ í­(B)</th><th>ì ìš© í†¤ìˆ˜</th></tr></thead>
          <tbody>
            <tr><td>Ã˜ 120</td><td>35 mm</td><td>0.5 ~ 1T</td></tr>
            <tr><td>Ã˜ 150</td><td>45 mm</td><td>1 ~ 2T</td></tr>
            <tr><td>Ã˜ 180</td><td>55 mm</td><td>2.8T</td></tr>
            <tr><td>Ã˜ 200</td><td>60 mm</td><td>3 ~ 5T</td></tr>
            <tr><td>Ã˜ 250</td><td>70 mm</td><td>5 ~ 7.5T</td></tr>
            <tr><td>Ã˜ 315</td><td>80 mm</td><td>10T ì´ìƒ</td></tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>

  <div id="imgModal" class="modal-overlay">
    <div class="modal-header">
      <button class="close-modal" onclick="closeDrawing()">ë‹«ê¸° âœ–</button>
    </div>
    <div class="panzoom-container">
      <div class="loader" id="spinner"></div>
      <img id="modalImg" class="panzoom-element" src="" alt="ë„ë©´">
    </div>
    <div style="text-align:center; color:#999; font-size:0.8rem; padding-bottom:20px; z-index:2001;">
      ğŸ’¡ ë‘ ì†ê°€ë½ìœ¼ë¡œ í™•ëŒ€/ì¶•ì†Œ ë° ì´ë™ ê°€ëŠ¥
    </div>
  </div>

  <nav class="nav">
    <button class="nav-btn active" onclick="switchTab(1, this)">
      <span class="nav-icon">ğŸ—ï¸</span>í˜¸ì´ìŠ¤íŠ¸
    </button>
    <button class="nav-btn" onclick="switchTab(2, this)">
      <span class="nav-icon">ğŸ› ï¸</span>ê¸°ìˆ ìë£Œ
    </button>
    <button class="nav-btn" onclick="switchTab(3, this)">
      <span class="nav-icon">ğŸ“</span>ì² ê°•ê·œê²©
    </button>
    <button class="nav-btn" onclick="switchTab(4, this)">
      <span class="nav-icon">âš™ï¸</span>ìì¬ê·œê²©
    </button>
  </nav>

<script>
  /* ========================================================
     [Panzoom ë¡œì§ ë° ì´ë¯¸ì§€ í•¸ë“¤ë§]
     ======================================================== */
  const drawingFiles = {
    "mono_std": "mono_std.jpg",
    "mono_crp": "mono_crp.jpg",
    "double_std": "double_std.jpg",
    "double_crp": "double_crp.jpg",
    "main_std": "main_std.jpg",
    "main_crp": "main_crp.jpg"
  };

  let panzoomInstance = null; 

  window.addEventListener('load', () => {
    Object.values(drawingFiles).forEach(file => {
      const img = new Image();
      img.src = file;
    });
  });

  function openDrawing() {
    const type = document.getElementById('hType').value;
    const fileName = drawingFiles[type];
    const modal = document.getElementById('imgModal');
    const img = document.getElementById('modalImg');
    const spinner = document.getElementById('spinner');

    if(fileName) {
      modal.classList.add('open'); 
      img.classList.remove('loaded');
      spinner.style.display = 'block';

      // [ìˆ˜ì •ë¨] ì—ëŸ¬ ë°œìƒ ì‹œ ê²½ê³ ì°½ ë„ìš°ì§€ ì•Šê³  ìŠ¤í”¼ë„ˆë§Œ ìˆ¨ê¹€
      img.onerror = function() {
        spinner.style.display = 'none';
      };

      img.onload = function() {
        spinner.style.display = 'none'; 
        img.classList.add('loaded');    
        
        if(panzoomInstance) panzoomInstance.dispose();
        panzoomInstance = Panzoom(img, {
          maxScale: 5, minScale: 0.5, contain: 'outside', startScale: 1
        });
        img.parentElement.addEventListener('wheel', panzoomInstance.zoomWithWheel);
      };

      img.src = fileName;
    } else {
      alert('ì—°ê²°ëœ ë„ë©´ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.');
    }
  }

  function closeDrawing() {
    const modal = document.getElementById('imgModal');
    const img = document.getElementById('modalImg');
    
    modal.classList.remove('open');
    img.src = ""; 
    img.classList.remove('loaded');
    
    if(panzoomInstance) {
      panzoomInstance.dispose();
      panzoomInstance = null;
    }
  }

  /* ========================================================
     [ì—…ë°ì´íŠ¸ëœ í˜¸ì´ìŠ¤íŠ¸ ì œì› ë°ì´í„° (ëª¨í„° ê·¹ìˆ˜ P í¬í•¨, íš¡í–‰ ìš©ì–´ ìˆ˜ì •)]
     ======================================================== */
  const hoistSpecs = {
    "mono_std": {
      "1T": { speedH: "10/12 (50/60Hz)", speedT: "20/24", motorH: "2.4kW x 4P", motorT: "0.4kW x 4P", wire: "Î¦8 x 2ì¤„" },
      "2T": { speedH: "8.4/10", speedT: "20/24", motorH: "3.7kW x 4P", motorT: "0.75kW x 4P", wire: "Î¦10 x 2ì¤„" },
      "2.8T": { speedH: "7.5/9", speedT: "20/24", motorH: "4.8kW x 4P", motorT: "0.75kW x 4P", wire: "Î¦12.5 x 2ì¤„" },
      "3T": { speedH: "7.5/9", speedT: "20/24", motorH: "5.5kW x 4P", motorT: "0.75kW x 4P", wire: "Î¦12.5 x 2ì¤„" },
      "5T": { speedH: "4.7/5.6", speedT: "20/24", motorH: "5.5kW x 6P", motorT: "0.75kW x 4P", wire: "Î¦16 x 2ì¤„" }
    },
    "mono_crp": {
      "1T": { speedH: "10/1 (Hi/Lo)", speedT: "20/13", motorH: "2.4/0.4kW x 4P", motorT: "0.4kW x 4P / 0.2kW x 6P", wire: "Î¦8 x 2ì¤„" },
      "2T": { speedH: "8.4/0.84", speedT: "20/13", motorH: "3.7/0.4kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦10 x 2ì¤„" },
      "2.8T": { speedH: "7.5/0.75", speedT: "20/13", motorH: "4.8/1.1kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦12.5 x 2ì¤„" },
      "3T": { speedH: "7.5/0.75", speedT: "20/13", motorH: "5.5/1.1kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦12.5 x 2ì¤„" },
      "5T": { speedH: "4.7/0.47", speedT: "20/13", motorH: "5.5/1kW x 6P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦16 x 2ì¤„" }
    },
    "double_std": {
      "2T": { speedH: "8.4/10", speedT: "20/24", motorH: "3.7kW x 4P", motorT: "0.75kW x 4P", wire: "Î¦8 x 4ì¤„" },
      "2.8T": { speedH: "7.5/9", speedT: "20/24", motorH: "4.8kW x 4P", motorT: "0.75kW x 4P", wire: "Î¦9 x 4ì¤„" },
      "3T": { speedH: "7.5/9", speedT: "20/24", motorH: "5.5kW x 4P", motorT: "0.75kW x 4P", wire: "Î¦9 x 4ì¤„" },
      "5T": { speedH: "4.7/5.6", speedT: "20/24", motorH: "5.5kW x 6P", motorT: "0.75kW x 4P", wire: "Î¦12.5 x 4ì¤„" }
    },
    "double_crp": {
      "2T": { speedH: "8.4/0.84", speedT: "20/13", motorH: "3.7/0.4kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦8 x 4ì¤„" },
      "2.8T": { speedH: "7.5/0.75", speedT: "20/13", motorH: "4.8/1.1kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦9 x 4ì¤„" },
      "3T": { speedH: "7.5/0.75", speedT: "20/13", motorH: "5.5/1.1kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦9 x 4ì¤„" },
      "5T": { speedH: "4.7/0.47", speedT: "20/13", motorH: "5.5/1kW x 6P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦12.5 x 4ì¤„" }
    },
    "main_std": {
      "5/3T": { speedH: "Main 4.7 / Aux 7.5", speedT: "20/24", motorH: "Main 5.5kW x 6P / Aux 4.2kW x 8P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Main Î¦12.5 / Aux Î¦12.5" },
      "7.5/3T": { speedH: "Main 3.1 / Aux 7.5", speedT: "12.5/15", motorH: "Main 5.5kW x 6P / Aux 5.5kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Main Î¦14 / Aux Î¦12.5" },
      "10/5T": { speedH: "Main 3.7 / Aux 4.7", speedT: "12.5/15", motorH: "Main 9kW x 8P / Aux 5.5kW x 6P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Main Î¦16 / Aux Î¦16" },
      "15/5T": { speedH: "Main 3.7 / Aux 4.7", speedT: "12.5/15", motorH: "Main 13kW x 8P / Aux 5.5kW x 6P", motorT: "1.5kW x 4P / 1kW x 6P", wire: "Main Î¦20 / Aux Î¦16" }
    },
    "main_crp": {
      "5/3T": { speedH: "4.7/0.47 (M)", speedT: "20/13", motorH: "Main 5.5/1kW x 6P / Aux 5.5/1.1kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦12.5 x 4ì¤„" },
      "7.5/3T": { speedH: "3.1/0.31 (M)", speedT: "12.5/8.3", motorH: "Main 5.5/1kW x 6P / Aux 5.5/1.1kW x 4P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦14 x 4ì¤„" },
      "10/5T": { speedH: "3.7/0.37 (M)", speedT: "12.5/8.3", motorH: "Main 9/1.1kW x 8P / Aux 5.5/1kW x 6P", motorT: "0.75kW x 4P / 0.5kW x 6P", wire: "Î¦16 x 4ì¤„" },
      "15/5T": { speedH: "3.7/0.37 (M)", speedT: "12.5/8.3", motorH: "Main 13/1.8kW x 8P / Aux 5.5/1kW x 6P", motorT: "1.5kW x 4P / 1kW x 6P", wire: "Î¦20 x 4ì¤„" }
    }
  };

  /* ========================================================
     [ê¸°ì¡´ ì² ê°•/ì™€ì´ì–´ ë°ì´í„° ìœ ì§€]
     ======================================================== */
  const wireDB = {
    "0.5": {
      "N": { "6": "Î¦ 6*13.5m (6*19)", "12": "Î¦ 6*25.5m (6*19)", "18": "Î¦ 6*37.5m (6*19)", "24": "Î¦ 6*49.5m (6*19)", "30": "Î¦ 6*61.8m (6*19)" },
      "L": { "6": "Î¦ 4*27m (6*7)" }, "D": {}
    },
    "1": {
      "N": { "6": "Î¦ 8*14m (5*19)", "12": "Î¦ 8*26m (6*19)", "18": "Î¦ 8*38m (4*fi29)", "24": "Î¦ 8*50m (4*fi29)", "30": "Î¦ 8*62m (4*fi29)" },
      "L": { "6": "Î¦ 6*27m (6*19)" }, "D": {}
    },
    "2": {
      "N": { "6": "Î¦ 10*15m (6*37)", "12": "Î¦ 10*26.5m (6*37)", "18": "Î¦ 10*38.5m (4*fi29)", "24": "Î¦ 10*50.5m (4*fi29)", "30": "Î¦ 10*62.6m (4*fi29)" },
      "L": { "6": "Î¦ 8*28m (6*19)" }, "D": { "12": "Î¦ 8*53m (6*37)" }
    },
    "3": {
      "N": { "6": "Î¦ 12.5*15m (6*37)", "12": "Î¦ 12.5*27m (6*37)", "18": "Î¦ 12.5*39m (4*fi29)", "24": "Î¦ 12.5*51m (4*fi29)", "30": "Î¦ 10*63m (4*fi29)" },
      "L": { "6": "Î¦ 9*29m (6*37)" }, "D": { "12": "Î¦ 9*53m (6*37)", "18": "Î¦ 9*78m (6*37)", "24": "Î¦ 9*103m (6*37)" }
    },
    "5": {
      "N": { "6": "Î¦ 16*15m (6*37)", "12": "Î¦ 16*28m (6*37)", "18": "Î¦ 16*39m (6*37)", "24": "Î¦ 16*51m (6*37)", "30": "Î¦ 16*63m (4*fi29)" },
      "L": { "6": "Î¦ 11.2*30m (6*37)" }, "D": { "12": "Î¦ 11.2*56m (6*37)", "18": "Î¦ 11.2*85m (6*37)", "24": "Î¦ 11.2*112m (6*37)" }
    },
    "7.5": { "N": { "12": "Î¦ 14*54m (6*37)", "18": "Î¦ 14*85m (6*37)", "24": "Î¦ 14*108m (6*37)" }, "L": {}, "D": { "12": "Î¦ 14*54m (6*37)", "18": "Î¦ 14*85m (6*37)", "24": "Î¦ 14*108m (6*37)" } },
    "10": { "N": { "12": "Î¦ 16*55m (6*37)", "18": "Î¦ 16*82m (6*37)", "24": "Î¦ 16*103m (6*37)" }, "L": {}, "D": { "12": "Î¦ 16*55m (6*37)", "18": "Î¦ 16*82m (6*37)", "24": "Î¦ 16*103m (6*37)" } },
    "15": { "N": { "12": "Î¦ 20*55m (6*37)", "18": "Î¦ 20*80m (6*37)", "24": "Î¦ 20*110m (6*37)" }, "L": {}, "D": { "12": "Î¦ 20*55m (6*37)", "18": "Î¦ 20*80m (6*37)", "24": "Î¦ 20*110m (6*37)" } },
    "20": { "N": { "12": "Î¦ 22.4*56m (6*37)", "18": "Î¦ 22.4*85m (6*37)", "24": "Î¦ 22.4*110m (6*37)" }, "L": {}, "D": { "12": "Î¦ 22.4*56m (6*37)", "18": "Î¦ 22.4*85m (6*37)", "24": "Î¦ 22.4*110m (6*37)" } },
    "30": { "N": { "12": "Î¦ 22.4*84m (6*37)", "18": "Î¦ 22.4*125m (6*37)" }, "L": {}, "D": { "12": "Î¦ 22.4*84m (6*37)", "18": "Î¦ 22.4*125m (6*37)" } }
  };

  const guides = {
    "H-Beam": "H(ë†’ì´) x B(í­) x t1(ì›¹) x t2(í”Œëœì§€)",
    "I-Beam": "H(ë†’ì´) x B(í­) x t1(ì›¹) x t2(í”Œëœì§€)",
    "Channel": "H(ë†’ì´) x B(í­) x t1(ì›¹) x t2(í”Œëœì§€)",
    "Angle": "A(ë³€) x B(ë³€) x t(ë‘ê»˜) / ë“±ë³€ ê¸°ì¤€",
    "Pipe": "ë°°ê´€ìš© íƒ„ì†Œê°•ê´€ (KS D 3507) / ë°±ê´€, í‘ê´€",
    "Rail": "í˜¸ì¹­ (kg/m) ê¸°ì¤€ ì£¼ìš” ì¹˜ìˆ˜",
    "Flat": "í­(W) x ë‘ê»˜(t) ë³„ ë¬´ê²Œ (kg/m)",
    "Conduit": "í›„ê°•ì „ì„ ê´€(G) / ì™¸ê²½ x ë‘ê»˜ / ë¬´ê²Œ(4m)",
    "HR": "4'x8' / 5'x10' ë¬´ê²Œ (ë¹„ì¤‘ 7.85)",
    "Check": "4'x8' / 5'x10' ë¬´ê²Œ (ë¹„ì¤‘ 7.85)",
    "STS": "SUS304 ê¸°ì¤€ ë‘ê»˜ë³„ ë¬´ê²Œ (ë¹„ì¤‘ 7.93)"
  };

  const steelDB = {
    "Angle": { 
      head: ["ê·œê²© (AxB)", "ë‘ê»˜ (t)", "ë‹¨ì¤‘"],
      data: [
        ["20 x 20", "3t / 4t", "0.88 / 1.14"],
        ["25 x 25", "3t / 4t", "1.12 / 1.45"],
        ["30 x 30", "3t / 4t", "1.36 / 1.77"],
        ["40 x 40", "3t / 4t / 5t", "1.83 / 2.42 / 2.95"],
        ["50 x 50", "4t / 5t / 6t", "3.06 / 3.79 / 4.43"],
        ["60 x 60", "4t / 5t / 6t", "3.68 / 4.55 / 5.42"],
        ["65 x 65", "5t / 6t / 8t", "4.94 / 5.91 / 7.66"],
        ["75 x 75", "6t / 9t / 12t", "6.85 / 10.1 / 13.0"],
        ["90 x 90", "6t / 7t / 10t", "8.33 / 9.63 / 13.3"],
        ["100 x 100", "7t / 10t / 13t", "10.7 / 14.9 / 19.1"]
      ]
    },
    "Pipe": {
      head: ["í˜¸ì¹­(A/B)", "ì™¸ê²½(mm)", "ë‘ê»˜(t) / ë¬´ê²Œ(kg/m)"],
      data: [
        ["15A (1/2B)", "21.7", "2.8t / 1.31"],
        ["20A (3/4B)", "27.2", "2.8t / 1.68"],
        ["25A (1B)", "34.0", "3.2t / 2.43"],
        ["32A (1Â¼B)", "42.7", "3.5t / 3.38"],
        ["40A (1Â½B)", "48.6", "3.5t / 3.89"],
        ["50A (2B)", "60.5", "3.8t / 5.31"],
        ["65A (2Â½B)", "76.3", "4.2t / 7.47"],
        ["80A (3B)", "89.1", "4.2t / 8.79"],
        ["100A (4B)", "114.3", "4.5t / 12.2"]
      ]
    },
    "Flat": { 
      head: ["í­ (mm)", "ë‘ê»˜(t) ë³„ ë¬´ê²Œ (kg/m)"],
      data: [
        ["25 mm", "3t:0.59 / 4.5t:0.88 / 6t:1.18 / 9t:1.77"],
        ["32 mm", "3t:0.75 / 4.5t:1.13 / 6t:1.51 / 9t:2.26"],
        ["38 mm", "3t:0.90 / 4.5t:1.34 / 6t:1.79 / 9t:2.68"],
        ["50 mm", "4.5t:1.77 / 6t:2.36 / 9t:3.53 / 12t:4.71"],
        ["65 mm", "6t:3.06 / 9t:4.59 / 12t:6.12 / 19t:9.69"],
        ["75 mm", "6t:3.53 / 9t:5.30 / 12t:7.07 / 19t:11.2"],
        ["100 mm", "6t:4.71 / 9t:7.07 / 12t:9.42 / 19t:14.9"]
      ]
    },
    "H-Beam": {
      head: ["ê·œê²© (H x B)", "ë‘ê»˜ (t1/t2)", "ë‹¨ì¤‘"],
      data: [
        ["100 x 50", "5 / 7", "9.3"], ["100 x 100", "6 / 8", "17.2"],
        ["125 x 60", "6 / 8", "13.2"], ["125 x 125", "6.5 / 9", "23.8"],
        ["150 x 75", "5 / 7", "14.0"], ["150 x 150", "7 / 10", "31.5"],
        ["175 x 90", "5 / 8", "18.1"], ["194 x 150", "6 / 9", "29.9"],
        ["200 x 100", "5.5 / 8", "21.3"], ["200 x 200", "8 / 12", "49.9"],
        ["244 x 175", "7 / 11", "44.1"], ["250 x 125", "6 / 9", "29.6"],
        ["294 x 200", "8 / 12", "56.8"], ["300 x 150", "6.5 / 9", "36.7"],
        ["300 x 300", "10 / 15", "94.0"], ["350 x 175", "7 / 11", "49.6"],
        ["400 x 200", "8 / 13", "66.0"]
      ]
    },
    "I-Beam": {
      head: ["ê·œê²© (H x B)", "ë‘ê»˜ (t1/t2)", "ë‹¨ì¤‘"],
      data: [
        ["100 x 75", "5 / 8", "12.9"], ["125 x 75", "5.5 / 9.5", "16.1"],
        ["150 x 75", "5.5 / 9.5", "17.1"], ["200 x 100", "7 / 10", "26.0"],
        ["250 x 125", "7.5 / 12.5", "38.3"], ["300 x 150", "8 / 13", "48.3"]
      ]
    },
    "Channel": {
      head: ["ê·œê²© (H x B)", "ë‘ê»˜ (t1/t2)", "ë‹¨ì¤‘"],
      data: [
        ["75 x 40", "5 / 7", "6.92"], ["100 x 50", "5 / 7.5", "9.36"],
        ["125 x 65", "6 / 8", "13.4"], ["150 x 75", "6.5 / 10", "18.6"],
        ["200 x 80", "7.5 / 11", "24.6"]
      ]
    },
    "Rail": {
      head: ["í˜¸ì¹­", "H x B x Head", "ë‹¨ì¤‘"],
      data: [
        ["10 kg", "63.5 x 63.5 x 32.1", "9.95"], ["15 kg", "79.4 x 79.4 x 42.9", "15.2"],
        ["22 kg", "93.7 x 93.7 x 46.0", "22.3"], ["30 kg", "108 x 108 x 60.3", "30.1"],
        ["37 kg", "122 x 122 x 62.7", "37.2"], ["50 kg N", "153 x 127 x 65.0", "50.4"]
      ]
    },
    "Conduit": {
      head: ["í˜¸ì¹­ (G)", "ì™¸ê²½ x ë‘ê»˜", "ë¬´ê²Œ(4m)"],
      data: [
        ["G16 / G22", "21.0 / 26.5", "4.24 / 5.48"], ["G28 / G36", "33.3 / 41.9", "7.04 / 9.00"],
        ["G42 / G54", "47.8 / 59.6", "10.3 / 15.7"], ["G70 / G82", "75.2 / 87.9", "20.0 / 23.5"]
      ]
    },
    "HR": {
      head: ["ë‘ê»˜ (t)", "4'x8' ë¬´ê²Œ", "5'x10' ë¬´ê²Œ"],
      data: [
        ["1.6 / 2.3", "29.8 / 42.9", "46.5 / 66.9"], ["3.2 / 4.5", "59.7 / 83.9", "93.0 / 131"],
        ["6.0 / 9.0", "112 / 168", "175 / 262"], ["12 / 16", "224 / 298", "349 / 466"],
        ["19 / 25", "354 / 466", "553 / 728"]
      ]
    },
    "Check": {
      head: ["ë‘ê»˜ (t)", "4'x8' ë¬´ê²Œ", "5'x10' ë¬´ê²Œ"],
      data: [
        ["3.2 t", "63.9 kg", "99.8 kg"], ["4.5 t", "88.1 kg", "138 kg"],
        ["6.0 t", "116 kg", "181 kg"]
      ]
    },
    "STS": {
      head: ["ë‘ê»˜ (t)", "4'x8' (304)", "5'x10' (304)"],
      data: [
        ["0.5 / 0.8", "11.8 / 18.9", "18.4 / 29.4"], ["1.0 / 1.2", "23.6 / 28.3", "36.8 / 44.2"],
        ["1.5 / 2.0", "35.4 / 47.1", "55.2 / 73.6"], ["3.0 / 4.0", "70.7 / 94.2", "110 / 147"]
      ]
    }
  };

  /* ========================================================
     [ì´ˆê¸°í™” ë° ê³µí†µ ë¡œì§]
     ======================================================== */
  window.onload = function() {
    updateCapOptions(); // íƒ­1 ì´ˆê¸°í™”
    findWire();         // íƒ­2 ì´ˆê¸°í™”

    // [ì¶”ê°€] ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”© ì‹¤í–‰
    Object.values(drawingFiles).forEach(file => {
      const img = new Image();
      img.src = file;
    });
  };

  function switchTab(idx, btn) {
    document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
    document.getElementById('tab'+idx).classList.remove('hidden');
    document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
    btn.classList.add('active');
  }

  function updateCapOptions() {
    const type = document.getElementById('hType').value;
    const capSelect = document.getElementById('hCap');
    capSelect.innerHTML = "";
    
    if(hoistSpecs[type]) {
      Object.keys(hoistSpecs[type]).forEach(ton => {
        let opt = document.createElement('option');
        opt.value = ton;
        opt.innerText = ton + " Ton";
        capSelect.appendChild(opt);
      });
    } else {
      capSelect.innerHTML = "<option>ë°ì´í„° ì—†ìŒ</option>";
    }
    renderHoistSpec();
  }

  function renderHoistSpec() {
    const type = document.getElementById('hType').value;
    const cap = document.getElementById('hCap').value;
    const data = (hoistSpecs[type] && hoistSpecs[type][cap]) ? hoistSpecs[type][cap] : null;
    
    let html = "";
    if(data) {
      html += `<div class="spec-row"><span class="spec-label">ê¶Œìƒ ì†ë„ (m/min)</span><span class="spec-val">${data.speedH}</span></div>`;
      html += `<div class="spec-row"><span class="spec-label">íš¡í–‰ ì†ë„ (m/min)</span><span class="spec-val">${data.speedT}</span></div>`;
      html += `<div class="spec-row"><span class="spec-label">ê¶Œìƒ ëª¨í„° (kW)</span><span class="spec-val">${data.motorH}</span></div>`;
      if(data.motorT) html += `<div class="spec-row"><span class="spec-label">íš¡í–‰ ëª¨í„° (kW)</span><span class="spec-val">${data.motorT}</span></div>`;
      html += `<div class="spec-row"><span class="spec-label">ì™€ì´ì–´ ê·œê²©</span><span class="spec-val">${data.wire}</span></div>`;
    } else {
      html = `<div style="text-align:center; padding:20px; color:#666;">í•´ë‹¹ ê·œê²© ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.<br>ë„ë©´ì„ ì°¸ê³ í•˜ì„¸ìš”.</div>`;
    }
    document.getElementById('hoistSpecView').innerHTML = html;
  }

  function findWire() {
    const t = document.getElementById('wireTon').value;
    const type = document.getElementById('wireType').value;
    const l = document.getElementById('wireLift').value;
    
    let res = "-";
    try {
      if(wireDB[t] && wireDB[t][type] && wireDB[t][type][l]) {
        res = wireDB[t][type][l];
      } else {
        res = "í•´ë‹¹ ì‚¬ì–‘ ì—†ìŒ";
      }
    } catch(e) { res = "-"; }
    
    document.getElementById('wireResult').innerText = res;
  }
  
  function copyWireResult() {
    const txt = document.getElementById('wireResult').innerText;
    if(txt === '-' || txt === 'í•´ë‹¹ ì‚¬ì–‘ ì—†ìŒ') return;
    navigator.clipboard.writeText(txt).then(() => {
      alert('ê·œê²©ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: ' + txt);
    });
  }
  
  function loadData(type, btn) {
    document.querySelectorAll('.btn-steel').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    
    const db = steelDB[type];
    const guideText = guides[type] || "";
    if(!db) { document.getElementById('dataContainer').innerHTML = "<br>ë°ì´í„° ì¤€ë¹„ì¤‘"; return; }

    let html = `<div class="shape-guide">ğŸ’¡ <strong>${type}</strong><br>${guideText}</div>`;
    html += `<table class="steel-table"><thead><tr>`;
    db.head.forEach(h => html += `<th>${h}</th>`);
    html += `</tr></thead><tbody>`;
    db.data.forEach(row => {
      html += `<tr>`;
      row.forEach(cell => html += `<td>${cell}</td>`);
      html += `</tr>`;
    });
    html += `</tbody></table>`;
    document.getElementById('dataContainer').innerHTML = html;
  }
</script>
</body>
</html>
